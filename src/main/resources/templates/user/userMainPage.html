<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" th:href="@{/public/css/userMainPage.css(version=${#dates.format(#dates.createNow(), 'yyyyMMddHHmmss')})}" />
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>

    <link href="https://fonts.googleapis.com/css2?family=Single+Day&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+KR:wght@100..900&display=swap" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Teko:wght@300..700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap-icons/font/bootstrap-icons.css" rel="stylesheet">
    <script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

    <title>MainPage</title>
    <style>

        .user-drop-menu-wrapper {
            margin: 0;
            padding: 0;
            position: fixed; /* 절대 위치 지정 */
            top: 8%; /* 원하는 위치로 조정 */
            right: 5.5%; /* 원하는 위치로 조정 */
            z-index: 3; /* 캐러셀 위에 오도록 z-index 설정 */
            max-width: 100%;
            min-width:5%
        }
        .user-drop-menu-wrapper ul, li {
            list-style: none;
            padding: 0;
            margin: 0;
        }
        .user-drop-menu-wrapper a {
            text-align: center;
            text-decoration: none;
            color: inherit;
            display: flex; /* Flexbox를 사용하여 정렬 */
            align-items: center; /* 수직 중앙 정렬 */
               justify-content: center; /* 수평 중앙 정렬 */
            width: 100px;
        }
        .user-drop-menu-dep1 {
            background-color: #599468;
            width: 100%;
            height: 30%;
            justify-content: center; /* 수평 가운데 정렬 */
            align-items: center; /* 수직 가운데 정렬 */
            font-size: 1.2em;
            text-align: center;
            transition: opacity 1.5s ease; /* opacity 애니메이션 추가 */
            opacity: 0; /* 초기에 투명하게 설정 */
            border: 3px solid #1e6a46;
            border-radius: 10px;

            position:relative;
            z-index:2;
        }


        .user-drop-menu-border-top{
            border-top: 3px solid #1e6a46;
        }

        .show {
            opacity: 1; /* 보여질 때 투명도 조정 */
        }

    </style>
</head>
<body style = "margin:0; padding:0">

    <div class="row" style="background-color:#599468; height: 8vh; overflow-x:hidden; margin:0; padding:0">

        <div class="col-2 d-flex justify-content-center align-items-center">
            <img alt="홈화면 이미지"
                 style="width:8em; cursor: pointer"
                 th:onclick="|location.href='@{./MainPage}'|"
                 th:src="@{/public/image/nutrihubCompanyLogo/NutriHub_AlphaBet.png}"/>
        </div>
        <div class="col-3 d-flex justify-content-center align-items-center" style="color:white; font-size:2em;">
            <div class="col-4 single-day-regular">
                <span style="cursor: pointer">쇼핑
                    <i class="bi bi-caret-down" style="font-size:0.65em;"></i>
                </span>
            </div>
            <div class="col-4 single-day-regular">
                <span style="cursor: pointer">브랜드
                    <i class="bi bi-caret-down pt-5" style="font-size:0.65em;"></i>
                </span>
            </div>
            <div class="col-4 single-day-regular">
                <span style="cursor: pointer">케어
                    <i class="bi bi-caret-down pt-5" style="font-size:0.65em;"></i>
                </span>
            </div>
        </div>

        <div class="col-3"></div>

        <!-- 네비바 검색창 -->
        <div class="col-2 d-flex justify-content-center align-items-center">
            <div class="reading-glasses-wrapper">
                <img class="reading-glasses" th:src="@{/public/image/userMainPage/Nav_Search.png}">
                <input type="text" class="navbarSearch single-day-regular" placeholder="제품 검색">
            </div>
        </div>

        <div class="col-2 login-icon-wrapper" style="position:relative">
            <img class="login-icon" th:src="@{/public/image/userMainPage/GreenUserIcon.png}" alt="">
            <div class="user-drop-menu-wrapper">
                <nav>
                    <ul class="user-drop-menu-dep1">
                        <li>
                            <ul class="single-day-regular" style="color:white">
                                <li class="text-center"><a href="./userJoinPage">회원 가입</a></li>
                                <li class="user-drop-menu-border-top text-center"><a href="./userLoginPage">로그인</a></li>
                            </ul>
                        </li>
                    </ul>
                </nav>
            </div>
        </div>
    </div>

    <div class="row" style="position:relative; z-index:1;margin:0;padding:0">

        <div class="col" style="padding:0">
                <div id="carouselExampleIndicators" class="carousel slide" data-bs-ride="carousel">
                    <div class="carousel-indicators">
                        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
                        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="1" aria-label="Slide 2"></button>
                        <button type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide-to="2" aria-label="Slide 3"></button>
                    </div>
                    <div class="carousel-inner">
                        <div class="carousel-item active ">
                            <img th:src="@{/public/image/userMainPage/imgslide1.png}" class="d-block w-100" alt="..."
                                style="cursor: pointer">
                        </div>
                        <div class="carousel-item">
                            <img th:src="@{/public/image/userMainPage/imgslide2.png}" class="d-block w-100" alt="..."
                                 style="cursor: pointer">
                        </div>
                        <div class="carousel-item">
                            <img th:src="@{/public/image/userMainPage/imgslide3.png}" class="d-block w-100" alt="..."
                                 style="cursor: pointer">
                        </div>
                    </div>
                    <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="prev">
                        <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Previous</span>
                    </button>
                    <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleIndicators" data-bs-slide="next">
                        <span class="carousel-control-next-icon" aria-hidden="true"></span>
                        <span class="visually-hidden">Next</span>
                    </button>
                </div>
        </div>
    </div>

    <!-- 추천 상품 -->
    <div class="row" style="background-color: #FAFAFA; margin: 0; padding: 0;">
        <div class="col-1" style="padding: 0;"></div>
        <div class="col" style="padding: 0;">
            <div class="row mt-5" style="margin: 0;">
                <div class="col-1 noto-sans d-flex justify-content-start align-items-center" style="padding: 0;">
                    <p style="font-size: 1.4em; font-weight: bold">추천 상품</p>
                </div>
                <div class="col" style="padding: 0;"></div>
            </div>
        </div>
    </div>
    <!-- 임시 배경색으로 검은색함 원래는 #FAFAFA  다시 처음부터 마진 패딩 생각하면서 짜자.. 이거 여백이 쳐 남는다...-->
    <!-- 추천상품 6개 (상품 이름, 별점, 가격은 axios로 데이터 받아온다음에 실시간 반영되게 자바스크립트 이용해서 넣어주면 될거같다-->
    <div class="row row-cols-9" style="background-color: #FAFAFA; margin:0">
        <div class="col" style="padding:0"></div>
        <div class="col" style="padding: 0 0 0 20px; background-color: #FAFAFA">
            <img th:src="@{/public/image/userMainPage/recommendProduct/DoctorsBestMagnesium.png}" class="d-block w-100 img-fluid" alt="..." >
            <div class="col" style="background-color: #599468; margin:0; font-size:0.9em; padding:0.5em">
                Life Extension, 투퍼데이 종합비타민, 캡슐 120정
            </div>
            <div class="col" style="background-color: #599468; margin:0; padding:0 0 0 0.5em">
                별점
            </div>
            <div class="col teko" style="background-color: #599468; margin:0; font-size:1.2em; padding:0 0 0 0.5em">
                ₩25,913
            </div>
        </div>

        <div class="col" style="padding: 0 0 0 20px; background-color: #FAFAFA">
            <img th:src="@{/public/image/userMainPage/recommendProduct/DoctorsBestMagnesium.png}" class="d-block w-100 img-fluid" alt="..." >
            <div class="col" style="background-color: #599468; margin:0; font-size:0.9em; padding:0.5em">
                Life Extension, 투퍼데이 종합비타민, 캡슐 120정
            </div>
            <div class="col" style="background-color: #599468; margin:0; padding:0 0 0 0.5em">
                별점
            </div>
            <div class="col teko" style="background-color: #599468; margin:0; font-size:1.2em; padding:0 0 0 0.5em">
                ₩25,913
            </div>
        </div>

        <div class="col" style="padding: 0 0 0 20px; background-color: #FAFAFA">
            <img th:src="@{/public/image/userMainPage/recommendProduct/DoctorsBestMagnesium.png}" class="d-block w-100 img-fluid" alt="...">
            <div class="col" style="background-color: #599468; margin:0; font-size:0.9em; padding:0.5em">
                Life Extension, 투퍼데이 종합비타민, 캡슐 120정
            </div>
            <div class="col" style="background-color: #599468; margin:0; padding:0 0 0 0.5em">
                별점
            </div>
            <div class="col teko" style="background-color: #599468; margin:0; font-size:1.2em; padding:0 0 0 0.5em">
                ₩25,913
            </div>
        </div>

        <div class="col" style="padding: 0 0 0 20px; background-color: #FAFAFA">
            <img th:src="@{/public/image/userMainPage/recommendProduct/DoctorsBestMagnesium.png}" class="d-block w-100 img-fluid" alt="...">
            <div class="col" style="background-color: #599468; margin:0; font-size:0.9em; padding:0.5em">
                Life Extension, 투퍼데이 종합비타민, 캡슐 120정
            </div>
            <div class="col" style="background-color: #599468; margin:0; padding:0 0 0 0.5em">
                별점
            </div>
            <div class="col teko" style="background-color: #599468; margin:0; font-size:1.2em; padding:0 0 0 0.5em">
                ₩25,913
            </div>
        </div>

        <div class="col" style="padding: 0 0 0 20px; background-color: #FAFAFA">
            <img th:src="@{/public/image/userMainPage/recommendProduct/DoctorsBestMagnesium.png}" class="d-block w-100 img-fluid" alt="...">
            <div class="col" style="background-color: #599468; margin:0; font-size:0.9em; padding:0.5em">
                Life Extension, 투퍼데이 종합비타민, 캡슐 120정
            </div>
            <div class="col" style="background-color: #599468; margin:0; padding:0 0 0 0.5em">
                별점
            </div>
            <div class="col teko" style="background-color: #599468; margin:0; font-size:1.2em; padding:0 0 0 0.5em">
                ₩25,913
            </div>
        </div>

        <div class="col" style="padding: 0 0 0 20px; background-color: #FAFAFA">
            <img th:src="@{/public/image/userMainPage/recommendProduct/DoctorsBestMagnesium.png}" class="d-block w-100 img-fluid" alt="...">
            <div class="col" style="background-color: #599468; margin:0; font-size:0.9em; padding:0.5em">
                Life Extension, 투퍼데이 종합비타민, 캡슐 120정
            </div>
            <div class="col" style="background-color: #599468; margin:0; padding:0 0 0 0.5em">
                별점
            </div>
            <div class="col teko" style="background-color: #599468; margin:0; font-size:1.2em; padding:0 0 0 0.5em">
                ₩25,913
            </div>
        </div>

        <div class="col" style="padding: 0 0 0 20px; background-color: #FAFAFA">
            <img th:src="@{/public/image/userMainPage/recommendProduct/DoctorsBestMagnesium.png}" class="d-block w-100 img-fluid" alt="...">
            <div class="col" style="background-color: #599468; margin:0; font-size:0.9em; padding:0.5em">
                Life Extension, 투퍼데이 종합비타민, 캡슐 120정
            </div>
            <div class="col" style="background-color: #599468; margin:0; padding:0 0 0 0.5em">
                별점
            </div>
            <div class="col teko" style="background-color: #599468; margin:0; font-size:1.2em ; padding:0 0 0 0.5em">
                ₩25,913
            </div>
        </div>
        <div class="col" style="background-color: #FAFAFA; padding:0">
        </div>
    </div>

    <!--여백 공간 for 디자인-->
    <div class="row m-0" style="background-color: #FAFAFA">
        <div class="col p-0 " style="height:2.5vh;"></div>
    </div>


    <div class="row" style="background-color: #FAFAFA; margin: 0; padding: 0;">

        <div class="col-1 d-flex justify-content-center" style="position:relative; top:50%;">
            <a href="" class="weekly-prev-button justify-content-center">
                <img src="/public/image/userMainPage/green_left_arrow.png" alt="이전 버튼">
            </a>
        </div>


        <!-- col 나머지 부분 (이미지 슬라이드) -->

        <div class="col" style="padding: 0;">
            <div class="row mt-5" style="margin: 0;">
                <div class="col-1 noto-sans d-flex justify-content-start align-items-center" style="padding: 0;">
                    <p style="font-size: 1.4em; font-weight: bold">주간 브랜드</p>
                </div>
                <div class="col" style="padding: 0;"></div>
            </div>
            <div class="row">
                <div class="col noto-sans d-flex justify-content-start align-items-center" style="padding: 0;">
                    <p style="color: gray; margin-left:0.7em ">본 행사는 3일 11시간 뒤에 종료됩니다.</p>
                </div>
            </div>
            <div class="weekly-brand-wrap">
                <div class="weekly-brand-slider">
                    <ul class="slider">
                        <li><img th:src="@{/public/image/nutritionCompanyLogo/doctersbest_logo.png}" alt=""></li>
                        <li><img th:src="@{/public/image/nutritionCompanyLogo/naturesway_logo.png}" alt=""></li>
                        <li><img th:src="@{/public/image/nutritionCompanyLogo/nordic-naturals-logo.png}" alt=""></li>
                        <li><img th:src="@{/public/image/nutritionCompanyLogo/nowfood_logo.png}" alt=""></li>
                        <li><img th:src="@{/public/image/nutritionCompanyLogo/doctersbest_logo.png}" alt=""></li>
                        <li><img th:src="@{/public/image/nutritionCompanyLogo/naturesway_logo.png}" alt=""></li>
                        <li><img th:src="@{/public/image/nutritionCompanyLogo/nordic-naturals-logo.png}" alt=""></li>
                        <li><img th:src="@{/public/image/nutritionCompanyLogo/doctersbest_logo.png}" alt=""></li>
                        <li><img th:src="@{/public/image/nutritionCompanyLogo/nowfood_logo.png}" alt=""></li>
                    </ul>


                </div>
            </div>
        </div>
        <div class="col-1" style="position:relative; top:100%;">
                <a href="" class="weekly-next-button">
                    <img src="/public/image/userMainPage/green_right_arrow.png" alt="다음 버튼">
                </a>
        </div>
    </div>


    <div class="row" style="background-color: #FAFAFA; margin: 0; padding: 0; height:4em;">
    </div>


    <div class="row" style="background-color: #FAFAFA; margin: 0; padding: 0;">
        <div class="col-1" style="padding: 0;"></div>
        <div class="col" style="padding: 0;">
            <div class="row mt-5" style="margin: 0;">
                <div class="col-1 noto-sans d-flex justify-content-start align-items-center" style="padding: 0;">
                    <p style="font-size: 1.4em; font-weight: bold">베스트 셀러</p>
                </div>
                <div class="col" style="padding: 0;"></div>
            </div>
        </div>
    </div>

    <div class="row" style="background-color: #FAFAFA; margin: 0; padding: 0;">

        <div class="col-1"></div>

        <div class="col m-0 p-0">

            <span class="border border rounded-pill nato-sans" style="padding:0.4em" >
                보충제
            </span>

            <span class="border rounded-pill nato-sans" style="margin-left: 1em; padding:0.4em;">
                목욕 & 퍼스널케어
            </span>

            <span class="border rounded-pill nato-sans" style="margin-left: 1em; padding:0.4em;">
                뷰티
            </span>

            <span class="border rounded-pill nato-sans" style="margin-left: 1em; padding:0.4em;">
                스포츠
            </span>

            <span class="border rounded-pill nato-sans" style="margin-left: 1em; padding:0.4em;">
                식료품
            </span>

            <span class="border rounded-pill nato-sans" style="margin-left: 1em; padding:0.4em;">
                유아 & 아동
            </span>

            <span class="border rounded-pill nato-sans" style="margin-left: 1em; padding:0.4em;">
                반려동물
            </span>

            <span class="border rounded-pill nato-sans" style="margin-left: 1em; padding:0.4em;">
                홈
            </span>
        </div>
    </div>

    <div class="row" style="background-color: #FAFAFA; margin: 0; padding: 0; height:6em;">
    </div>






    <!-- 부트스트랩-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js" integrity="sha384-C6RzsynM9kWDrMNeT87bh95OGNyZPhcTNXj1NW7RuBCsyN/o0jlpcV8Qyq46cDfL" crossorigin="anonymous"></script>
    <!-- JQuery-->
    <script>
        document.addEventListener('DOMContentLoaded', function() {

            // ------------------------------ 회원가입, 로그인 ------------------------------------------
            const readingGlassIcon = document.querySelector('.reading-glasses');
            const navBarSearch = document.querySelector('.navbarSearch');
            const userDropMenuDep1 = document.querySelector('.user-drop-menu-dep1');
            const userDropMenuA = document.querySelector('.user-drop-menu-wrapper a');
            const loginIcon = document.querySelector('.login-icon');

            navBarSearch.addEventListener('focus', function() {
                this.classList.add('expanded-input');
            });

            navBarSearch.addEventListener('blur', function() {
                this.classList.remove('expanded-input');
            });

            loginIcon.addEventListener('mouseover', function() {
                userDropMenuDep1.classList.add('show');
            });

            loginIcon.addEventListener('mouseleave', function() {
                userDropMenuDep1.classList.remove('show');
            });

            userDropMenuDep1.addEventListener('mouseover', function() {
                userDropMenuDep1.classList.add('show');
            });

            userDropMenuDep1.addEventListener('mouseleave', function() {
                userDropMenuDep1.classList.remove('show'); // 클래스 제거로 애니메이션 종료
            });

            //-----------------------------------------------------------------------------------

            const weeklyWrap = document.querySelector('.weekly-brand-wrap');
            const weeklySlider = weeklyWrap.querySelector('.weekly-brand-slider');
            const weeklySlideList = weeklySlider.querySelectorAll('li');

            const weeklyArrowButtonPrev = document.querySelector('.weekly-prev-button');
            const weeklyArrowButtonNext = document.querySelector('.weekly-next-button');


            const weeklyLiWidth = weeklyWrap.clientWidth / 5; // 4개의 이미지를 보여줄 수 있는 너비
            let currentIdx = 0;
            let translate = 0;

            weeklyArrowButtonNext.addEventListener('click', function(event) {
                event.preventDefault();
                if (currentIdx < weeklySlideList.length - 5) { // 슬라이드가 끝에 도달하지 않은 경우에만 이동
                    translate -= weeklyLiWidth;
                    weeklySlider.style.transform = `translateX(${translate}px)`;
                    currentIdx += 1;
                }
            });

            weeklyArrowButtonPrev.addEventListener('click', function(event) {
                event.preventDefault();
                if (currentIdx > 0) { // 현재 슬라이드가 첫 번째가 아닌 경우에만 이동
                    translate += weeklyLiWidth;
                    weeklySlider.style.transform = `translateX(${translate}px)`;
                    currentIdx -= 1;
                }
            });



        });
    </script>
</body>
</html>
